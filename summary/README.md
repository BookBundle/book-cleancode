## 목차

- [4장. 주석](#4장.-주석)
- [5장. 형식 맞추기](#5장.-형식-맞추기)
- [9장. 단위 테스트](#9장.-단위-테스트)
- [10장. 클래스](#10장.-클래스)
- [11장. 시스템](#11장.-시스템)
- [12장. 창발성](#12장.-창발성)

## 4장. 주석

- **주석을 달기보다는 코드로 의미를 표현하는 것이 가장 좋다.**
- 변경 이력을 남기는 것은 구시대적인 방식이고 이제는 버전 관리 시스템에 맡기자.
- 소스 코드의 의도를 표현하거나 의미를 보다 명확하게 해주는 주석은 좋다.
- 독자가 별생각 없이 코드를 변경할 위험성이 있는 곳에는 주석으로 경고하거나 중요성을 강조하는 주석을 넣어도 좋다.
- TODO 주석은 지금 할 일을 나중으로 미루는 것으로 바로바로 해결하거나 없애도록 하자.
- 주석이 같은 말을 반복하고, 오해할 여지가 있거나 의무적으로 다는 주석들은 안다는 것만도 못하기에 지워버리자.

## 5장. 형식 맞추기

- **코드의 형식을 깔끔하게 유지하는 것은 추후 유지보수나 확장성에 용이하다.**
- 파일 크기(행의 길이)는 크지 않아도 커다란 시스템을 구축할 수 있고 작아야 이해하기가 더 편하다.
- 세로 형식의 경우 서로 연관성이 없는 개념 같은 경우 빈 행으로 구분하는 것이 가독성에 좋다.
- 가로 형식은 파일의 크기와 똑같이 긴 행보다는 짧은 행을 더 선호한다.
- 가로 형식은 공백을 이용해서 느슨한 개념과 밀접한 개념을 표현한다.
- 가로 정렬은 구조를 강조하다가 오히려 의도를 가릴 수 있고 들여쓰기는 하는 것이 각 영역을 판단하는 데 좋다.
- 결국 애플리케이션이 만들어지기까지에는 여러 사람이 이루어진 팀이 함께 진행하기 때문에 그 팀의 룰을 따르는 게 좋다.

## 9장. 단위 테스트

- TDD의 세 가지 법칙
    1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
    1. 컴파일은 실패하지 않으면서 실패하는 정도로만 단위 테스트를 작성한다.
    1. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.
- TDD 방식을 따르게 되면 모든 기능을 테스트하는 테스트 케이스가 나오게 된다. (테스트 커버리지 100%)
- 테스트 구조는 BUILD-OPERATE-CHECK(given-when-then) 패턴과 같은 테스트 구조가 적합하다.
- 테스트 환경과 실제 배포 환경은 다르기에 실제 코드만큼이나 효율적일 필요는 없다. (이중 표준)
- 테스트 당 assert 하나만 사용하는 것이 결론이 하나라는 뜻이므로 코드를 이해하기 쉽다. (최소한 assert문)
- 깨끗한 테스는 FIRST 규칙을 따른다.
    1. FAST : 테스트는 빨라야 한다.
    1. Independent : 테스트는 서로 의존해서는 안 된다.
    1. Repeatable : 어떤 환경에서도 테스트가 동작할 수 있어야 한다.
    1. Self-Validating : 결과는 성공/실패만 존재해야 한다.
    1. Timely : 테스트하려는 실제 코드를 구현하기 직전에 구현한다.

## 10장. 클래스

- **클래스는 함수와 마찬가지로 작아야 하는 것이 기본 규칙이다.**
- 클래스는 변경하는 이유가 단 한가지이어야 한다. (SRP)
- 클래스에 인스턴스 변수는 적어야 하며, 각 클래스 메소드는 인스턴스 변수를 하나 이상 사용해야 좋다.
    - 일반적으로 메소드가 변수를 많이 사용할수록 응집도가 높다.
    - 어떤 특정 메소드만이 사용하는 인스턴스 변수가 많아진다면 리팩토링의 신호이다.
- 대다수의 시스템에는 지속적인 변경이 일어나므로 변경하기 쉬운 클래스를 만들어줘야 한다.
    - 인터페이스, 추상 클래스를 이용하여 관계를 느슨하게 하여 변경에 미치는 영향을 최소화한다.

## 11장. 시스템

- 소프트웨어 시스템은 준비 과정과 런타임 로직을 분리해야 한다.
    - 생성 과정 : 애플리케이션 객체를 제작하고 의존성을 서로 연결하는 과정
    - 런타임 로직 : 비즈니스 로직
- **의존성 주입은 생성과 사용을 분리하는 강력한 메커니즘이다.**
- 처음부터 큰 시스템은 존재하지 않고 점차 늘려갈 뿐이다.
    - TDD로 얻어진 코드는 시스템을 조정하고 확장하기 쉽게 만들어준다.
- 횡단 관심사를 통해 일부 영역을 적절하게 모듈화할 수 있다.
    - 자바 프록시
    - 순수 자바 AOP 프레임워크
    - AspectJ

## 12장. 창발성

- 우수한 설계를 하기 위한 네 가지 규칙
    1. 모든 테스트를 실행한다.
    1. 중복을 없앤다.
    1. 프로그래머 의도를 표현한다.
    1. 클래스와 메소드 수를 최소로 줄인다.